---
/**
 * @fileoverview Languages page for each locale
 * @author ESLint
 */
import MainLayout from "../../layouts/MainLayout.astro";
import type { Locale } from "../../i18n";
import { locales, getSiteData, getLanguages } from "../../i18n";

export function getStaticPaths() {
	return locales.map(locale => ({
		params: { locale },
	}));
}

const { locale } = Astro.params as { locale: Locale };
const site = getSiteData(locale);
const languages = getLanguages();

const languagesPage = site.languages_page as {
	title: string;
	choose_language: string;
};
---

<MainLayout title={languagesPage.title} locale={locale} hook="languages_page">
	<section class="section hero">
		<div class="content-container">
			<div class="section-head center-text">
				<h1 class="section-title">{languagesPage.title}</h1>
				<p class="section-supporting-text">{languagesPage.choose_language}</p>
			</div>
		</div>
	</section>

	<section class="section">
		<div class="content-container">
			<ul class="languages-list" role="list">
				{
					languages.map(lang => (
						<li>
							<a href={`/${lang.code}/`} class="language-link">
								<span class="language-flag">{lang.flag}</span>
								<span class="language-name">{lang.name}</span>
							</a>
						</li>
					))
				}
			</ul>
		</div>
	</section>
</MainLayout>
