::selection {
    background-color: var(--color-brand);
    color: #fff;
}

[role="region"] {
    padding: 5px;
    margin: -5px;
}

*:focus {
    outline: 3px solid transparent;
}

.js-focus-visible *:focus:not(.focus-visible) {
    outline: 1px solid transparent;
    box-shadow: none;
}

*:focus:not(:focus-visible) {
    outline: 1px solid transparent;
    box-shadow: none;
}

*.focus-visible {
    outline: 2px solid var(--color-brand);
    outline-offset: 3px;
}

*:focus-visible {
    outline: 2px solid var(--color-brand);
    outline-offset: 3px;
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

html {
    accent-color: var(--color-brand);
    background-color: var(--color-brand);
    height: 100%;
    font-family: var(--text-font);
    overflow-x: hidden;
}

body {
    position: relative;
    margin: 0 auto;
    line-height: 1.5;
    display: flex;
    flex-direction: column;
    min-height: 100%;
    background-color: var(--body-background-color);
    color: var(--body-text-color);
}

#skip-link {
    position: fixed;
    top: -30em;
    left: 0;
    right: auto;
    z-index: 999;
    transition: top .1s linear;

    &:focus {
        outline: 2px solid transparent;
        top: 2px;
    }

    &:focus-visible {
        outline: 2px solid transparent;
        top: 2px;
    }
}

main {
    flex: 1;

    &:focus {
        outline: none;
    }
}

.content-container {
    max-width: 1280px;
    margin: 0 auto;
    padding: var(--space-xl-3xl) calc(1rem + 1vw);
}


.section-head {
    .section-supporting-text {
        text-align: center;
        max-width: 768px;
        margin: 0 auto var(--space-l-2xl);
    }
}

.section-foot {
    margin-top: var(--space-l-2xl);
    .section-supporting-text {
        text-align: center;
        font-size: var(--step--1);
        max-width: 768px;
        margin: 0 auto;
    }
}

.section-title {
    margin-bottom: 1rem;
}

.section-supporting-text {
    font-size: var(--step-1);
}


code,
pre {
    font-family: var(--mono-font);
}

code {
    color: var(--link-color);

    pre & {
        color: unset;
    }
}

.c-icon {
    color: var(--icon-color);
    flex: none;
    transition: all .2s linear;

    @media (-ms-high-contrast: active) {
        color: windowText;
    }

    @media (forced-colors: active) {
        color: canvasText;
    }
}

.c-btn,
a {
    .c-icon:hover {

        color: var(--link-color);

    }
}

a {
    color: var(--link-color);
    display: inline-flex;
    gap: .5rem;
    align-items: center;


    .side-header & {
        color: inherit;
        text-decoration: none;
    }
}

svg {
    flex: none;
}

p {
    margin: 0 0 1.5em;

    :matches(nav, .posts-collection) & {
        margin-bottom: .75em;
    }
}

p,
h1,
h2,
h3,
h4,
h5,
h6 {
    overflow-wrap: break-word;
}


ul,
ol {
    margin-top: 0;

    li {
        margin: 0 0 .75em;
    }
}

ul[role="list"] {
    list-style: none;
    margin: 0;
    padding: 0;

    li {
        margin: 0;
    }
}

ol {
    list-style: decimal;

    li::marker {
        color: var(--link-color);
    }
}


figure {
    margin-bottom: 4rem;

    img {
        margin-bottom: 1rem;
    }

    figcaption {
        color: var(--grey);
    }
}

img {
    display: block;
    position: relative;
    max-width: 100%;
    height: auto;
}

nav {
    ol,
    ul {
        list-style: none;
        margin: 0;
        padding: 0;
    }
}


.video {
    width: 90%;
    max-width: 1400px;
    margin: 2em auto;

    iframe {
        aspect-ratio: 16 / 9;
        width: 100%;
        height: auto;
    }
}

@media (prefers-reduced-motion: no-preference) {
    *:focus-visible,
    *.focus-visible {
        transition: outline-offset .15s linear;
        outline-offset: 3px;
    }
}
